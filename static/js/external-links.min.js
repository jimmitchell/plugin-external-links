document.addEventListener('DOMContentLoaded', function() {
    const currentDomain = window.location.hostname;
    document.querySelectorAll('a').forEach(link => {
        try {
            const linkDomain = new URL(link.href).hostname;
            if (linkDomain && linkDomain !== currentDomain) {
                link.target = '_blank';
                link.rel = 'noopener noreferrer';
            }
        } catch (error) {
            // Silently handle invalid URLs
        }
    });
});
